(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{110:function(t,e,n){},116:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return H}));var r=n(2),c=n(105),o=n(106),a=n(101),i=n(4),s=n(22),u=n(109),j=n(0),b=(n(110),n(113)),l=(n(111),n(10)),d=n(33),f=function(t){return t.phonebook.filter},h=function(t){return t.phonebook.contacts},O={getFilter:f,getContacts:h,getLoading:function(t){return t.phonebook.loading},getFilterContacts:Object(d.a)([f,h],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},p=n(19),x=n.n(p),m=n(30),v=n(24),g=n.n(v),C=n(12),k=function(){return function(){var t=Object(m.a)(x.a.mark((function t(e){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(C.i)()),t.prev=1,t.next=4,g.a.get("/contacts");case 4:n=t.sent,r=n.data,e(Object(C.j)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(C.h)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},F=function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(C.b)()),e.prev=1,e.next=4,g.a.post("/contacts",t);case 4:r=e.sent,c=r.data,n(Object(C.c)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(C.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(C.f)()),e.prev=1,e.next=4,g.a.delete("/contacts/".concat(t));case 4:n(Object(C.g)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(C.e)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},y=function(t){return function(e,n){return n().phonebook.contacts.filter((function(e){return e.name===t}))}},_=(n(48),n(103)),P={name:"",number:""},L=function(t){var e=t.onFindName,n=t.onAddContact,c=Object(j.useState)(Object(s.a)({},P)),o=Object(u.a)(c,2),a=o[0],l=o[1],d=a.name,f=a.number,h=function(t){var e=t.target,n=e.name,r=e.value;l((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},n,r))}))},O=function(){l(Object(s.a)({},P))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{className:"phonebook",onSubmit:function(t){return t.preventDefault(),d&&f?(console.log(e(d)),0!==e(d).length?(b.b.warn(d+" \u0422\u0430\u043a\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1):(n(a),void O())):(b.b.error("\u0423\u043f\u0441. \u041f\u043e\u043b\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0443\u0441\u0442\u044b.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1)},children:[Object(r.jsx)("label",{htmlFor:"name_1",children:"\u0418\u043c\u044f"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"name",id:"name_1",value:d,onChange:h}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"phone_1",children:"\u041d\u043e\u043c\u0435\u0440"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"number",id:"phone_1",value:f,onChange:h}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(_.a,{variant:"primary",type:"submit",style:{margin:"auto",display:"block"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]}),Object(r.jsx)(b.a,{})]})};L.defaultProps={onAddContact:function(){},onFindName:function(){}};var N=Object(l.b)(null,(function(t){return{onAddContact:function(e){return t(F(e))},onFindName:function(e){return t(y(e))}}}))(L),A=n(115),I=function(t){var e=t.loading,n=t.contacts,c=t.fetchContacts,o=t.removeContactId;return Object(j.useEffect)((function(){console.log(c())}),[c]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),0!=n.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"\u0418\u043c\u044f"}),Object(r.jsx)("th",{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(r.jsx)("th",{width:"10%"})]})}),Object(r.jsx)("tbody",{children:n.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsxs)("td",{children:[Object(r.jsx)(_.a,{variant:"danger",onClick:function(){o(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})," "]})]},e)}))})]})]})]})};I.defaultProps={contacts:[],removeContactId:function(){}};var S=Object(l.b)((function(t){return{loading:O.getLoading(t),contacts:O.getFilterContacts(t)}}),(function(t){return{fetchContacts:function(){return t(k())},removeContactId:function(e){return t(w(e))}}}))(I),B=function(t){var e=t.filter,n=t.onFilter;return Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[Object(r.jsx)("label",{htmlFor:"filter_1",children:"\u041d\u0430\u0439\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u043f\u043e \u0438\u043c\u0435\u043d\u0438"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"filter",id:"filter_1",value:e,onChange:n})]})};B.defaultProps={filter:"",onFilter:function(){}};var D=Object(l.b)((function(t){return{filter:O.getFilter(t)}}),(function(t){return{onFilter:function(e){return t(Object(C.d)(e.target.value))}}}))(B);function H(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(c.a,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsxs)(a.a,{sm:3,children:[Object(r.jsx)("h2",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430"}),Object(r.jsx)(N,{})]}),Object(r.jsxs)(a.a,{sm:9,children:[Object(r.jsx)("h2",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(r.jsx)(D,{}),Object(r.jsx)(S,{})]})]})})})}}}]);
//# sourceMappingURL=4.277897de.chunk.js.map